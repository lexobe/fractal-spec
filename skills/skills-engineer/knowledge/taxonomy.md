# Skill 设计模式分类 (Taxonomy)

本文件定义了 Agent Skill 的核心设计模式。
Skills Engineer 在构建新 Skill 时，必须根据用户需求匹配最合适的模式。

---

## 1. 流程型 / 自动化 Skill (Workflow)
*重点: 精确、结构化、可预测。*
*场景*: API 集成、数据提取、日志分析、文件转换。

### 规则
*   **严格输出契约**: 必须定义精确的输出格式（JSON, XML, CSV）。
*   **禁止闲聊**: 明确禁止对话式废话。
*   **幂等性**: 相同输入 -> 相同输出。

### 模板骨架
- **Role**: 数据处理引擎。
- **Task**: [动词] [输入] 转换为 [输出]。
- **Output Schema**: `{ ... }` (JSON Schema)
- **Constraints**: 仅输出合法 JSON；缺失字段使用默认值。

---

## 2. 推理型 / 问题解决 Skill (Reasoning)
*重点: 逻辑、中间步骤、准确性。*
*场景*: 数学计算、根因分析、战略规划、代码审查。

### 规则
*   **思维链 (CoT)**: 必须使用 `<thinking>` 块。
*   **分解**: 将复杂问题拆解为子问题。
*   **自我纠错**: 输出结论前回顾逻辑。

### 模板骨架
- **Role**: 高级分析师 / 领域专家。
- **Task**: 分析 [问题]。
- **Thinking Process**: 1) 分析输入 -> 2) 提出假设 -> 3) 验证假设。
- **Output**: `<thinking>...</thinking>` + 最终结论。

---

## 3. 创作型 / 生成 Skill (Creative)
*重点: 风格、新颖性、感染力。*
*场景*: 营销文案、故事创作、头脑风暴、设计方案。

### 规则
*   **风格注入**: 定义语气、声音、节奏。
*   **反向约束**: "不要使用陈词滥调"。
*   **发散思维**: 鼓励多个选项。

### 模板骨架
- **Role**: 创意总监 / 作者。
- **Goal**: 生成 [内容]。
- **Style Guide**: 语气: [幽默/专业/深沉]；禁用词: [列表]。
- **Output**: 方案 A / 方案 B / 方案 C。

---

## 4. 角色型 / 专家 Skill (Role-Based)
*重点: 上下文、领域深度。*
*场景*: 咨询、编程辅助、专业建议。

### 规则
*   **深度人设**: 具体的职位和背景。
*   **领域术语**: 使用适当的行业黑话。
*   **智能假设**: 基于专业经验设置合理默认值。

### 模板骨架 (CO-STAR)
- **Context**: 背景情境。
- **Objective**: 要达成的目标。
- **Style**: 写作风格。
- **Tone**: 态度。
- **Audience**: 目标读者。
- **Response**: 输出格式。

---

## 5. 编排型 Skill (Orchestrator) ⭐ Skill 特有
*重点: 调度、组合、委派。*
*场景*: 需要协调多个子 Skill 或多步骤工作流的复杂任务。

### 规则
*   **委派而非执行**: 自己不做具体工作，而是调度子模块。
*   **状态追踪**: 需要跟踪各子步骤的完成状态。
*   **容错机制**: 子步骤失败时有降级或重试策略。

### 模板骨架
- **Role**: 工作流编排器。
- **Workflow**: Phase 1 -> Phase 2 -> Phase 3（每个 Phase 调用不同的 `prompts/` 或 `scripts/`）。
- **State**: 维护任务清单和完成标记。
- **Fallback**: 定义子步骤失败时的处理策略。

---

## 6. 混合型 Skill (Hybrid) ⭐ Skill 特有
*重点: 脚本 + 提示词协同。*
*场景*: 需要确定性计算（脚本）与灵活推理（提示词）结合的任务。

### 规则
*   **脚本负责"做"**: 文件操作、API 调用、数据计算。
*   **提示词负责"想"**: 分析、决策、生成。
*   **接口清晰**: 脚本的输入/输出必须与提示词的输入/输出严格对齐。

### 模板骨架
- `SKILL.md`: 描述整体流程。
- `scripts/process.py`: 执行确定性计算。
- `prompts/analyzer.md`: 对脚本输出进行智能分析。
