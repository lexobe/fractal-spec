# Core4 框架

在 Thinkon/FIOS 中，每个 block 的 `goal` 与 `done` 使用 Core4 结构来思考与表述。

## 四维定义

| 维度 | 含义 | 示例 |
| :--- | :--- | :--- |
| **Intent（意图）** | 这件事存在的意义与预期影响。可同时写明 *Non-goals*。 | "实现登录功能以支持用户认证" |
| **Deliverable（交付物）** | 可被验收的产物形态。 | "login.html + login.css + login.js" |
| **Metric（度量）** | 定量 + 定性双轨验收标准。 | "正确率 > 95%"、"简单、优雅、启发性" |
| **Constraint（约束）** | 时间窗、风险边界、资源/依赖、环境准备等。 | "不修改生产数据"、"不引入前端框架" |

## 使用指南

### 理解 `goal`
将 `think.goal` 理解为一个 Core4 任务：
*   它表达了什么意图？
*   期望什么交付物？
*   用什么标准验收？
*   有什么边界约束？

### 生成 `new_block.goal`
**优先使用 Core4 对象格式**，保持所有输出的一致性。
*   **对象格式（默认）**: 完整 Core4 结构，适用于所有场景。
*   字符串格式仅作为极端简单场景的备用（如 `"创建空文件"`），正常情况下不使用。

~~~json
{
  "intent": "定位登录报错原因",
  "deliverable": "根因分析报告",
  "metric": "能复现并解释错误",
  "constraint": "不修改生产数据"
}
~~~

### 检查 `done` 覆盖度
从 Core4 四个维度检查 `done` 是否已覆盖 `goal`：
*   是否有清晰的交付物？
*   是否有可判定的度量结果？
*   是否满足所有约束？
*   意图是否已实现？
